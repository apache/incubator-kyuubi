<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!-- Extra logging related to initialization of Log4j. 
 Set to debug or trace if log4j initialization is failing. -->
<configuration status="warn">
    <appenders>
        <console name="stdout" target="system_out">
            <patternlayout pattern="%d{hh:mm:ss.sss} %p %c: %m%n"/>
            <filters>
                <thresholdfilter level="fatal"/>
                <regexfilter regex=".*thrift error occurred during processing of message.*" onmatch="deny" onmismatch="neutral"/>
            </filters>
        </console>
        <file name="file" filename="target/unit-tests.log">
            <patternlayout pattern="%d{hh:mm:ss.sss} %t %p %c{1}: %m%n"/>
            <filters>
                <regexfilter regex=".*thrift error occurred during processing of message.*" onmatch="deny" onmismatch="neutral"/>
            </filters>
        </file>
    </appenders>
    <loggers>
        <root level="info">
            <appenderref ref="stdout"/>
            <appenderref ref="file"/>
        </root>
    </loggers>
</Configuration>
